<html>
<head>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['gantt']});
    google.charts.setOnLoadCallback(drawChart);

    async function drawChart() {

      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Task ID');
      data.addColumn('string', 'Task Name');
      data.addColumn('string', 'Resource');
      data.addColumn('date', 'Start Date');
      data.addColumn('date', 'End Date');
      data.addColumn('number', 'Duration');
      data.addColumn('number', 'Percent Complete');
      data.addColumn('string', 'Dependencies');
      
      data.sort([{column: 2}]);

        const url = "./20250502_roadmap.json";
    try {
        const response = await fetch(url);
        if (!response.ok) {
        throw new Error(`Response status: ${response.status}`);
        }

        const roadmap_json = await response.json();
        //console.log(roadmap_json);
        for(let i = 0; i < roadmap_json.length; i++) {
          
            console.log(roadmap_json[i].sid + " "+roadmap_json[i].name+ " "+roadmap_json[i].start_date+ " "+roadmap_json[i].end_date);

            data.addRow(
                [roadmap_json[i].sid, roadmap_json[i].name, 'spring',
                new Date(Date.parse(roadmap_json[i].start_date+ "T00:00:00Z")), new Date(Date.parse(roadmap_json[i].end_date+ "T00:00:00Z")), null, 100, null]);
        }
    } catch (error) {
        console.error(error.message);
    }


      var options = {
        height: 2000,
        width: 2000,
        gantt: {
          sortTasks:false,
          trackHeight: 30,
          labelMaxWidth: 500,
        }
      };

      var chart = new google.visualization.Gantt(document.getElementById('chart_div'));
    

      chart.draw(data, options);
    }
  </script>
</head>
<body>
    <h1><img src="https://www.ogc.org/pub/www/files/OGC_Logo_2D_Blue_x_0_0.png" width="120" height="60"/></h1>
    <h1 style="font-family:verdana">Standards Roadmap</h1>
  <h2 style="font-family:verdana">Timeline View</h2>
  <div id="chart_div"></div>
  Based on the example at https://developers.google.com/chart/interactive/docs/gallery/ganttchart
</body>
</html>